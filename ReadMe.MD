# Restroworks â€“ Next.js + Payload CMS POC

This repository contains a **CMS-powered, multilingual, SEO-optimized website prototype** built using **Next.js (App Router)** and **Payload CMS**, as part of a Proof-of-concept.

The project demonstrates:

* Headless CMS integration
* Modular content architecture
* Multi-language support
* SEO best practices
* Clean, production-ready code structure

---

## Tech Stack

### Frontend

* **Next.js 14+ / 15+ (App Router)**
* TypeScript
* Tailwind CSS
* Server Components & Server Actions

### Backend (CMS)

* **Payload CMS**
* MongoDB
* REST API

### Optional / Tooling

* Docker (CMS)
* ESLint
* Playwright / Vitest (CMS setup)

---

## Project Structure
>tree -I "node_modules|.next|.git" -L 4

```bash
.
â””â”€â”€ apps
    â”œâ”€â”€ cms
    â”‚   â””â”€â”€ payload-backend
    â”‚       â”œâ”€â”€ src
    â”‚       â”‚   â”œâ”€â”€ blocks
    â”‚       â”‚   â”œâ”€â”€ collections
    â”‚       â”‚   â””â”€â”€ payload.config.ts
    â”‚       â””â”€â”€ package.json
    â””â”€â”€ frontend
        â””â”€â”€ my-nextjs-app
            â”œâ”€â”€ app
            â”‚   â”œâ”€â”€ [lang]
            â”‚   â”‚   â”œâ”€â”€ page.tsx
            â”‚   â”‚   â””â”€â”€ contact
            â”‚   â”‚       â””â”€â”€ page.tsx
            â”‚   â”œâ”€â”€ layout.tsx
            â”‚   â”œâ”€â”€ sitemap.ts
            â”‚   â””â”€â”€ robots.ts
            â”œâ”€â”€ components
            â”‚   â””â”€â”€ blocks
            â”œâ”€â”€ lib
            â””â”€â”€ package.json
```

---

## Localization & Routing

The application uses **URL-based locale routing**:

```
/en
/hi
/fr
```

* Locale is captured using a dynamic route: `app/[lang]`
* Language switching is SEO-friendly (no cookies or client-side hacks)
* Supported locales:

  * English (`en`) â€“ default
  * Hindi (`hi`)
  * French (`fr`)

Payload CMS localization is enabled and synced with frontend routing.

---

## CMS Modeling (Payload CMS)

### Collections

#### 1. Pages

Used to create CMS-driven pages (e.g. Homepage).

Fields:

* `slug` (unique)
* `layout` (block-based content)
* `seo` (title & description)

Public **read access enabled**.

#### 2. Contact Submissions

Stores contact form entries.

Fields:

* `name`
* `email`
* `message`

Public **create access enabled**, read restricted to admin (optional).

---

### Reusable Content Blocks

The following reusable blocks are implemented:

* **Hero** (localized)
* **Feature**
* **Testimonial**
* **CTA** (localized)

Blocks are composed dynamically on the frontend using a centralized `BlockRenderer`.

---

## Frontend Rendering Flow

1. Frontend fetches page data from Payload CMS using REST API
2. CMS returns locale-resolved content
3. Page layout is rendered dynamically block-by-block
4. CTA links are automatically prefixed with locale

This ensures:

* CMS-first architecture
* Editor-friendly content management
* Scalable page composition

---

## âœ‰ï¸ Contact Form

* Implemented using **Next.js Server Actions**
* No client-side JavaScript required
* Submits data directly to Payload CMS
* Stored securely in MongoDB

---

## ğŸ” SEO & Performance

Implemented features:

* Dynamic metadata from CMS (`seo.title`, `seo.description`)
* `sitemap.xml`
* `robots.txt`
* Server-side rendering
* Optimized routing
* Semantic HTML

---

## ğŸš€ Setup Instructions

### Prerequisites

* Node.js 18+
* MongoDB (local or Atlas)
* npm / yarn / pnpm

---

### 1ï¸âƒ£ Clone Repository

```bash
git clone <public-github-repo-url>
cd <repo>
```

---

### 2ï¸âƒ£ Setup Payload CMS (Backend)

```bash
cd apps/cms/payload-backend
npm install
npm run dev
```

Payload Admin:

```
http://localhost:3000/admin
```

Create an admin user when prompted.

---

### 3. Setup Frontend (Next.js)

```bash
cd apps/frontend/my-nextjs-app
npm install
```

Create `.env.local`:

```env
PAYLOAD_URL=http://localhost:3000
```

Start frontend:

```bash
npm run dev
```

Frontend runs on:

```
http://localhost:3001/en
```

# NOTE:
Add a language locale for the page to render
---

## Creating & Editing Content (CMS)

### Create Homepage

1. Go to Payload Admin
2. Pages â†’ Create New
3. Slug: `home`
4. Add blocks (Hero, Feature, Testimonial, CTA)
5. Add SEO title & description
6. Switch locale (EN / HI / FR) and save content per language

---

## Language Switching

Language switching is done via URL:

* `/en`
* `/hi`
* `/fr`

CMS content automatically resolves based on locale.

-------------------
## ğŸ“¸ Screenshots

### ğŸŒ Frontend â€“ Homepage

**Homepage (English)**  
![Homepage EN](./screenshots/homepage-en.png)

**Homepage (French)**  
![Homepage FR](./screenshots/homepage-fr.png)

---

### âœ‰ï¸ Frontend â€“ Contact Page

**Contact Form (English)**  
![Contact Form EN](./screenshots/contact-form-en.png)

**Contact Form (French)**  
![Contact Form FR](./screenshots/contact-form-fr.png)

**Contact Submission â€“ Success State**  
![Contact Success](./screenshots/contact-success.png)

---

### ğŸ§  Payload CMS â€“ Admin Panel

**Admin Dashboard**  
![Admin Dashboard](./screenshots/admin-dashboard.png)

**Pages Collection**  
![Admin Pages](./screenshots/admin-pages.png)

**Homepage Editor (Block-based CMS Layout)**  
![Admin CMS Homepage](./screenshots/admin-cms-home-page.png)

---

### ğŸ“¥ Payload CMS â€“ Contact Submissions

**Stored Contact Submissions in CMS**  
![Admin Contact Submissions](./screenshots/admin-contact-submissions.png)

---

### ğŸ”Œ API Verification

**Direct API Submission Proof**  
![API Payload Submissions](./screenshots/api-payload-submissions.png)

--------------------

## Author: Sohail Khan
Software Engineer and Developer

---